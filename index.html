<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chief James Nyanaro – Legacy</title>

  <!-- External Styles and Scripts -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
  <script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>

  <!-- Internal Styles -->
   <style>
  body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  padding: 0;
  color: #2c3e50;
  line-height: 1.7;
  position: relative;
  overflow-x: hidden;
  background: none;
}

/* FULLSCREEN Animated Background Image */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url('https://github.com/bony87/nyanaro-assets/blob/main/main.jpg?raw=true') no-repeat center center;
  background-size: cover;
  opacity: 0.25;
  z-index: -1;
  animation: zoomEffect 30s ease-in-out infinite alternate;
}

/* REMOVE white overlay */
body::after {
  content: none;
}

/* Smooth Zoom Animation */
@keyframes zoomEffect {
  0% {
    transform: scale(1);
  }
  100% {
    transform: scale(1.1);
  }
}


    header {
      background: linear-gradient(to right, #2e3a59, #1f2c45);
      color: white;
      padding: 2rem 1rem;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      background: #eaeef3;
      padding: 1rem;
      box-shadow: inset 0 -1px 0 #ccc;
    }

    nav a {
      background-color: #2e3a59;
      color: #fff;
      padding: 0.6rem 1.2rem;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    nav a:hover, nav a.active-tab {
      background-color: #1f2c45;
      transform: translateY(-2px);
      box-shadow: 0 3px 6px rgba(0,0,0,0.15);
    }

    section {
      padding: 2rem 1rem;
      max-width: 960px;
      margin: auto;
      display: none;
      animation: fadeUp 0.6s ease-in-out;
    }

    section.active {
      display: block;
    }

    h2 {
      color: #2e3a59;
      border-bottom: 2px solid #ddd;
      padding-bottom: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1.5rem;
    }

    .gallery figure {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      padding: 1rem;
      text-align: center;
    }

    .gallery img {
      border-radius: 8px;
      width: 100%;
      height: auto;
    }

    .tribute {
      background-color: #f9f9fc;
      border-left: 5px solid #2e3a59;
      padding: 1.5rem;
      border-radius: 6px;
      margin-bottom: 2rem;
      font-style: italic;
    }

    .timeline .entry {
      position: relative;
      margin-bottom: 1.5rem;
      padding-left: 1rem;
      border-left: 4px solid #2e3a59;
    }

    .timeline .entry::before {
      content: "•";
      position: absolute;
      left: -12px;
      top: 0;
      color: #2e3a59;
      font-size: 1.4rem;
    }

    footer {
      background: #2e3a59;
      color: #fff;
      text-align: center;
      padding: 1rem;
      margin-top: 3rem;
      font-size: 0.95rem;
    }

    /* Welcome Popup */
    #welcome-popup {
      background: #2e3a59;
      color: #fff;
      transition: opacity 1s ease;
    }

    /* Buttons */
    button, .button {
      background-color: #2e3a59;
      color: white;
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:hover, .button:hover {
      background-color: #3d4b6b;
    }

    /* Fade Animation */
    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .spinner {
      width: 60px;
      height: 60px;
      border: 6px solid #fff;
      border-top: 6px solid #1abc9c;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 1rem;
    }

    #page-loader {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(46, 58, 89, 0.95);
      z-index: 9999;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      text-align: center;
      color: white;
      font-family: 'Poppins', sans-serif;
      transition: opacity 0.5s ease-in-out;
    }
.admin-section {
  background: #ffffff;
  border: 1px solid #d3d9e3;
  border-left: 5px solid #2e3a59;
  padding: 1.5rem;
  margin-top: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

#admin-controls button,
#admin-content button {
  background: #2e3a59;
  color: #fff;
  border: none;
  padding: 0.6rem 1.2rem;
  border-radius: 6px;
  margin: 0.3rem;
  font-weight: bold;
  transition: background 0.3s ease;
}

#admin-controls button:hover,
#admin-content button:hover {
  background: #3d4b6b;
}

/* Admin Error Message */
#admin-error {
  font-weight: bold;
  color: #d32f2f;
  margin-top: 1rem;
}
#guestbook-modal {
  background: rgba(0, 0, 0, 0.8);
  display: none;
  align-items: center;
  justify-content: center;
  padding: 1rem;
}

#guestbook-modal > div {
  background: #fff;
  border-radius: 12px;
  padding: 2rem;
  max-width: 700px;
  width: 90%;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  position: relative;
}

#guestbook-modal h2 {
  color: #2e3a59;
  margin-top: 0;
}

#guestbook-modal button {
  position: absolute;
  top: 15px;
  right: 15px;
  background: transparent;
  color: #444;
  font-size: 1.5rem;
  border: none;
  cursor: pointer;
}
.download-button {
  display: inline-block;
  padding: 0.8rem 1.5rem;
  background-color: #388e3c;
  color: white;
  border-radius: 6px;
  font-weight: bold;
  text-decoration: none;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  transition: background 0.3s ease;
}

.download-button:hover {
  background-color: #2e7d32;
}
#admin-login {
  max-width: 500px;
  margin: 3rem auto;
  padding: 2rem;
  background: #ffffff;
  border: 1px solid #d1d9e6;
  border-left: 5px solid #2e3a59;
  border-radius: 10px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.05);
  text-align: center;
}

#admin-login h2 {
  color: #2e3a59;
  margin-bottom: 1rem;
}

#admin-login p {
  font-size: 1rem;
  color: #444;
  margin-bottom: 1rem;
}

#admin-pass {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 1rem;
  margin-bottom: 1.2rem;
  box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
}

#admin-login button {
  background-color: #2e3a59;
  color: #fff;
  padding: 0.7rem 1.2rem;
  border: none;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

#admin-login button:hover {
  background-color: #3d4b6b;
}

#admin-error {
  color: #d32f2f;
  font-weight: bold;
  margin-top: 1rem;
}#admin-pass:focus,
#admin-login button:focus {
  outline: none;
  border-color: #2e3a59;
  box-shadow: 0 0 0 3px rgba(46, 58, 89, 0.2);
}

.marquee-container {
  overflow: hidden;
  white-space: nowrap;
  box-sizing: border-box;
}

.marquee-text {
  display: inline-block;
  padding-left: 100%;
  animation: scroll-left 15s linear infinite;
  font-weight: bold;
  color: #2c3e50;
  font-size: 1.2em;
}
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
  gap: 15px;
  padding: 20px;
}

.gallery-grid img {
  width: 100%;
  height: auto;
  border-radius: 8px;
  box-shadow: 0 0 8px rgba(0,0,0,0.2);
}
.gallery-single {
  text-align: center;
  padding: 30px;
}

.gallery-single img {
  width: 60%;
  max-width: 500px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
  animation: slowZoom 20s ease-in-out infinite alternate;
  transition: transform 1s ease;
}

.gallery-single p {
  font-size: 1.1rem;
  margin-top: 15px;
  color: #333;
}

@keyframes slowZoom {
  0% {
    transform: scale(1);
  }
  100% {
    transform: scale(1.05);
  }
}
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(550px, 1fr));
  gap: 20px;
  padding: 20px;
}

.gallery-item {
  text-align: center;
}

.gallery-item img {
  width: 100%;
  height: auto;
  border-radius: 8px;
  box-shadow: 0 0 8px rgba(0,0,0,0.2);
  animation: slowZoom 20s ease-in-out infinite alternate;
  cursor: pointer;
}

.gallery-item p {
  font-size: 1rem;
  margin-top: 10px;
  color: #444;
}


  </style>
</head>
<body>
<button onclick="showSection('home')" 
        style="position: fixed; bottom: 20px; left: 20px; background-color: #2e3a59; color: white; border: none; padding: 0.8rem 1.2rem; border-radius: 8px; font-weight: bold; z-index: 999;">
  🔙 Back to Home
</button>

<div style="
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.8);
  z-index: -1;">
</div>
<div style="
  position: fixed;
  bottom: 0;
  width: 100%;
  background-color: #2e3a59;
  color: white;
  padding: 0.5rem 0;
  font-weight: bold;
  font-size: 1rem;
  z-index: 1000;
">

</div>

  <!-- Page Loader -->
  <div id="page-loader">
    <div class="spinner"></div>
    <p id="legacy-quote" style="max-width: 400px; font-style: italic; color: #dcdcdc;"></p>
    <p style="margin-top: 1rem;">Loading, please wait...</p>
  </div>

  <!-- Background Audio -->
  <audio id="welcome-audio" autoplay loop>
    <source src="audio/legacy-theme.mp3" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>
  <!-- Welcome Popup -->
  <div id="welcome-popup" style="
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: #2e3a59;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-family: 'Segoe UI', sans-serif;
    font-size: 1.5rem;
    text-align: center;
    z-index: 3000;
    opacity: 0;
    transition: opacity 1s ease;
  ">
    <div style="animation: fadeUp 1.5s ease-out;">
      <p style="margin-bottom: 1rem; font-size: 1.3rem;">Welcome to the Legacy of <br><strong>Chief James Nyanaro</strong></p>
      <p style="font-size: 1rem; font-style: italic; color: #dcdcdc; margin-bottom: 2rem;">
        “The greatest among you will be your servant.” – Matthew 23:11
      </p>
      <button onclick="closeWelcomePopup()" style="
        padding: 0.6rem 1.2rem;
        font-size: 1rem;
        background: white;
        color: #2e3a59;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      ">Enter Site</button>
    </div>
  </div>

  <!-- Header and Navigation -->
  <header>
    <h1>Retired Senior Chief James Nyanaro</h1>
    <marquee behavior="alternate" scrollamount="5" style="color: black; font-size: 1.5em;">
      ✨ Celebrating a Life of Leadership and Legacy ✨
    </marquee>

    <nav>
      <a onclick="simulatePageLoad(() => showSection('home'))">🏠 Home</a>
      <a onclick="simulatePageLoad(() => showSection('biography'))">📖 Biography</a>
      <a onclick="simulatePageLoad(() => showSection('achievements'))">🏅 Achievements</a>
      <a onclick="simulatePageLoad(() => showSection('full-history'))">📜 Full History</a>
      <a onclick="simulatePageLoad(() => showSection('tributes'))">💬 Tributes</a>
      <a onclick="simulatePageLoad(() => showSection('attributes'))">💫 Attributes</a>
      <a onclick="simulatePageLoad(() => showSection('gallery'))">💫 Gallery</a>
      <a onclick="simulatePageLoad(() => showSection('video'))">🎥 Video</a>
      <a onclick="simulatePageLoad(() => showSection('guestbook'))">🖊 Guestbook</a>
      <a onclick="simulatePageLoad(() => showSection('admin'))">🔒 Admin</a>

    </nav>
  </header>
  <!-- Main Content Sections -->

  <section id="biography" class="active">
  <h2 style="color: #2e3a59; border-bottom: 2px solid #ccc; padding-bottom: 0.5rem;">Biography</h2>

  <article style="line-height: 1.8; font-size: 1rem; color: #333;">
    <h3 style="color: #2e3a59;">🧒 Early Life and Background</h3>
    <p>
      James Nyanaro Nyabaro was born in <strong>1936</strong>, in <strong>Nyamwanga village</strong> of North Mugirango, 
      to <strong>Mr. Nyabaro</strong> and <strong>Mrs. Kerubo</strong> of the Bogirango clan. The last-born in a family of three, 
      James lost his father in <strong>1942</strong>, leaving his mother Kerubo — a devout <strong>Seventh-day Adventist</strong> 
      — to raise him alone.
    </p>
    <p>
      Despite the hardship, Kerubo raised her children with discipline, prayer, and a commitment to community. 
      Young James inherited her strength and grew up helping on the farm, walking barefoot to school, and absorbing 
      lessons in service from his mother's quiet leadership. This early foundation of faith, humility, and service 
      would come to define his life.
    </p>

    <h3 style="color: #2e3a59;">🎓 Education and Early Career</h3>
    <p>
      James began school at <strong>Nyamwanga Primary</strong> and later advanced to <strong>Sengera Intermediate School</strong>, 
      where he sat for the <strong>KAPE</strong> in <strong>1959</strong>. Overcoming many barriers, he trained as a teacher and 
      began shaping young minds in local schools such as:
    </p>
    <ul style="padding-left: 1.5rem;">
      <li>Nyamwanga Primary School</li>
      <li>Bonyunyu Primary</li>
      <li>Nyansakia Primary</li>
      <li>Itibo SDA School</li>
    </ul>
    <p>
      As a teacher, James was admired for his discipline, punctuality, and fatherly guidance. His classroom was a place of 
      learning, character-building, and moral instruction. Witnessing the broader challenges of his community — poverty, 
      illiteracy, and inequality — James felt a deeper calling to serve through leadership and public service.
    </p>
  </article>
  <article style="line-height: 1.8; font-size: 1rem; color: #333; margin-top: 2rem;">
  <h3 style="color: #2e3a59;">🛡️ Public Service and Leadership</h3>
  <p>
    In <strong>1968</strong>, James Nyanaro transitioned from education to public administration when he was appointed as a 
    <strong>local chief</strong>. This marked the beginning of a legendary leadership career rooted in justice, service, and 
    deep cultural understanding. Known for his firm discipline and incorruptible character, Chief Nyanaro quickly gained the 
    trust of his people.
  </p>
  <p>
    As a chief, he didn’t merely govern — he nurtured, protected, and empowered. His tenure saw the construction of 
    <strong>schools, hospitals, and clean water projects</strong>. He championed the rights of women and youth, encouraged 
    community savings groups, and helped countless individuals secure education and employment opportunities.
  </p>
  <p>
    Chief Nyanaro was also a skilled mediator. In times of conflict — whether between neighbors or entire clans — his 
    wise counsel brought peace. His compound became a place of refuge and guidance, where villagers came for advice, 
    arbitration, or encouragement.
  </p>
  <p>
    He served with unwavering dedication through times of change in Kenya’s political and social landscape. While many were 
    swept up in power struggles, Chief Nyanaro remained grounded in humility, guided by the principle that <em>“leadership 
    is about lifting others.”</em>
  </p>
</article>
<article style="line-height: 1.8; font-size: 1rem; color: #333; margin-top: 2rem;">
  <h3 style="color: #2e3a59;">👨‍👩‍👧‍👦 Family Life</h3>
  <p>
    Chief James Nyanaro was not only a respected leader but also a devoted family man. He was married to 
    <strong>Mary Bochaberi</strong>, a strong and graceful woman who supported him faithfully throughout his life. 
    Together, they were blessed with <strong>NINE children</strong> — sons and daughters whom they raised with love, 
    discipline, and faith.
  </p>
  <p>
    His home in Nyamwanga was a beacon of hospitality and wisdom. It was not uncommon to find visitors — young and old — 
    seeking advice, encouragement, or a warm meal. In the Nyanaro household, stories were shared, prayers were said, and 
    laughter echoed through the compound.
  </p>
  <p>
    As a father, Chief Nyanaro instilled the same values he had inherited: respect for elders, commitment to education, 
    and service to community. His children — many of whom have gone on to become educators, leaders, and professionals — 
    proudly carry forward his legacy.
  </p>
  <p>
    Even in retirement, he remained the cornerstone of a large and growing family, with grandchildren and great-grandchildren 
    looking up to him with admiration. Through his family, Chief Nyanaro’s teachings and traditions continue to flourish.
  </p>
</article>
<article style="line-height: 1.8; font-size: 1rem; color: #333; margin-top: 2rem;">
  <h3 style="color: #2e3a59;">🙏 Faith and Community Engagement</h3>
  <p>
    Faith was the bedrock of Chief James Nyanaro’s life. Raised by a devout Seventh-day Adventist mother, his journey 
    was grounded in Christian values from an early age. As he rose in stature — both as a teacher and a chief — his 
    commitment to faith only deepened. To him, service to others was an act of worship, and leadership was a sacred calling.
  </p>
  <p>
    Chief Nyanaro was a long-standing elder in the <strong>Seventh-day Adventist Church</strong>, where he served with 
    humility, reverence, and energy. He was not just a figurehead — he was actively involved in teaching Sabbath School, 
    mentoring youth, organizing missions, and participating in inter-church fellowships. His powerful prayers and 
    insightful Bible reflections made him a spiritual father to many.
  </p>
  <p>
    One of his proudest achievements was spearheading the construction of several churches in and around North Mugirango, 
    often donating both resources and land. His home was also a center of worship and hospitality, frequently hosting 
    visiting pastors, evangelists, and prayer gatherings. His influence extended beyond religious rituals — he inspired 
    an entire generation to live with integrity, compassion, and faith.
  </p>
  <p>
    In village life, he modeled Christian values not just through words, but through actions. He supported orphans and 
    widows, intervened in disputes with grace and wisdom, and gave generously without expecting anything in return. 
    His personal Bible was often seen in his hand — worn and marked — a testament to his lifelong devotion.
  </p>
  <p>
    As a spiritual leader, he believed that every individual had a purpose and that true greatness lay in serving others. 
    In his words and deeds, Chief James Nyanaro lived out the verse that shaped his mission: 
    <em>“The greatest among you will be your servant.” – Matthew 23:11</em>
  </p>
</article>
<article style="line-height: 1.8; font-size: 1rem; color: #333; margin-top: 2rem;">
  <h3 style="color: #2e3a59;">🌿 Retirement and Legacy</h3>
  <p>
    After decades of distinguished service as a chief and a community pillar, Chief James Nyanaro retired in the early 
    2000s. Though he stepped back from official duties, his influence in the community remained as strong as ever. 
    Retirement for him was not about rest — it was about mentorship, wisdom-sharing, and continuing to shape lives from 
    behind the scenes.
  </p>
  <p>
    He remained active in church leadership, family life, and community affairs. Younger chiefs, pastors, and educators 
    regularly sought his advice, often gathering at his home — which had become a sanctuary of tradition, spiritual counsel, 
    and historical memory. His words carried the weight of a life well-lived and a legacy deeply rooted in faith, service, 
    and honor.
  </p>
  <p>
    Even in old age, he radiated humility and clarity. He often spoke of peace, unity, and responsibility, emphasizing 
    that leadership was not about title but about how many lives you could touch with kindness and integrity. 
    His health challenges in later years were met with grace and resilience, and he never lost his sharp mind or prayerful heart.
  </p>
  <p>
    Chief James Nyanaro left behind not just structures — schools, churches, clinics — but a living spirit of community. 
    His legacy continues in the thousands of people he educated, the families he reconciled, the young people he mentored, 
    and the moral compass he provided to a whole generation.
  </p>
  <p style="font-style: italic; text-align: center; margin-top: 2rem;">
    “True greatness is measured by how many people you’ve lifted, how many burdens you’ve helped carry, and how faithfully 
    you served when no one was watching.”
  </p>
</article>

</section>


  
<section id="gallery">
  <h2>📸 Photo Gallery</h2>
   <p style="text-align: center; font-size: 1rem; color: #555;">
    👉 <em>Click on any image to view it in full size or download it.</em>
  </p>
  <div class="gallery-grid">

    <div class="gallery-item">
      <a href="https://github.com/bony87/nyanaro-assets/blob/main/OUR%20HERO%20SENOUR%20CHIEF%20JAMES%20NYANARO%20NYABARO.jpg?raw=true" target="_blank" download>
        <img src="https://github.com/bony87/nyanaro-assets/blob/main/OUR%20HERO%20SENOUR%20CHIEF%20JAMES%20NYANARO%20NYABARO.jpg?raw=true" alt="Chief Nyanaro">
      </a>
      <p><strong>Senior Chief James Nyanaro Nyabaro</strong> – A visionary leader, devoted father, and cultural builder whose contributions continue to shape the lives of many.</p>
    </div>

    <div class="gallery-item">
      <a href="https://github.com/bony87/nyanaro-assets/blob/main/RETIRED%20CHIEF%20WITH%20THE%20PARISH%20PRIEST%20FR.%20OBAIGWA%20DURING%2060%20YEARS%20OF%20MARRIAGE%20CEREMONY.jpg?raw=true" target="_blank" download>
        <img src="https://github.com/bony87/nyanaro-assets/blob/main/RETIRED%20CHIEF%20WITH%20THE%20PARISH%20PRIEST%20FR.%20OBAIGWA%20DURING%2060%20YEARS%20OF%20MARRIAGE%20CEREMONY.jpg?raw=true" alt="Family Celebration">
      </a>
      <p>"Retired Chief James Nyanaro with Parish Priest Fr. Obaigwa during his 60th wedding anniversary celebration.".</p>
    </div>

    <div class="gallery-item">
      <a href="https://github.com/bony87/nyanaro-assets/blob/main/RETIRED%20CHIEF'S%20WIFE%20WITH%20HER%20SMILING%20FACE.jpg?raw=true" target="_blank" download>
        <img src="https://github.com/bony87/nyanaro-assets/blob/main/RETIRED%20CHIEF'S%20WIFE%20WITH%20HER%20SMILING%20FACE.jpg?raw=true" alt="School Visit">
      </a>
      <p>"Mrs. Mary Bochaberi Nyanaro, radiating joy with her warm and loving smile.".</p>
    </div>

  </div>
</section>


  <section id="tributes">
  <h2>🌹 Living Tributes to Chief James Nyanaro</h2>

  <div class="tribute">
    <p>“Baba has been a pillar in our lives, not only as a father but as a builder of futures. His wisdom has shaped our values and our purpose.”<br><em>– Pius Nyanaro (Son, Assistant Chief)</em></p>
  </div>

  <div class="tribute">
    <p>“He raised us with discipline, faith, and purpose. He showed us that leadership starts at home.”<br><em>–all His children </em></p>
  </div>

  <div class="tribute">
    <p>“He showed unwavering commitment to our church, and his service has touched thousands of lives. A true shepherd of both faith and people.”<br><em>– Parish Leader, Nyanchoka Catholic Church</em></p>
  </div>

  <div class="tribute">
    <p>“He is not just a chief. He is our father, our builder, our friend. Every road, clinic, and school reminds us of his tireless work.”<br><em>– Resident of Ekerenyo</em></p>
  </div>

  <div class="tribute">
    <p>“Chief Nyanaro is the reason I went to school. He fought for education, especially for girls. I owe him my career.”<br><em>– Former Student, Kiabonyoru</em></p>
  </div>


  <article style="line-height: 1.8; font-size: 1rem; color: #333;">
    <p>
      These words are not just memories — they are living reflections of a man who continues to shape lives. 
      Family, friends, church members, and community leaders share heartfelt tributes to Chief James Nyanaro: 
      a father, mentor, leader, and servant of the people.
    </p>

    <div class="tribute" style="background-color: #f9f9fc; border-left: 5px solid #2e3a59; padding: 1.5rem; border-radius: 6px; margin: 2rem 0;">
      <p style="font-style: italic;">"He taught us that leadership is not about status, but about service. His presence is a daily blessing." <br><strong>– Mary Bochaberi (Wife)</strong></p>
    </div>

    
    <p style="margin-top: 2rem;">
      These tributes are ongoing — just like his influence. If you’ve been touched by Chief Nyanaro’s life and would like to share a message, 
      please leave your tribute in the guestbook.
    </p>

    <button onclick="openGuestbookModal()" 
            style="padding: 0.6rem 1.2rem; background-color: #1976d2; color: white; border: none; border-radius: 5px; font-weight: bold; cursor: pointer;">
      📝 Leave a Tribute
    </button>
  </article>
</section>


  




<section id="attributes">
  <h2 style="color: #2e3a59; border-bottom: 2px solid #34a529; padding-bottom: 0.5rem;">🌟 Attributes of Chief James Nyanaro</h2>
  

  <div id="attribute-list">

    <div class="attribute-box">
      <div class="attribute-icon">🙏</div>
      <div class="attribute-text"><strong>Faithful Servant of God:</strong> His life was rooted in Seventh-day Adventist values, prayer, and daily devotion.</div>
    </div>

    <div class="attribute-box">
      <div class="attribute-icon">🧠</div>
      <div class="attribute-text"><strong>Wise Leader:</strong> He provided direction not just with authority, but with thoughtfulness and moral clarity.</div>
    </div>

    <div class="attribute-box">
      <div class="attribute-icon">🤝</div>
      <div class="attribute-text"><strong>Peacemaker:</strong> Mzee resolved land and family disputes with fairness and humility, earning trust from all sides.</div>
    </div>

    <div class="attribute-box">
      <div class="attribute-icon">📚</div>
      <div class="attribute-text"><strong>Education Advocate:</strong> He helped build and support schools, ensuring children—especially girls—accessed learning.</div>
    </div>

    <div class="attribute-box">
      <div class="attribute-icon">🏠</div>
      <div class="attribute-text"><strong>Family Pillar:</strong> A loving husband and father to 9 children, he built a strong home rooted in discipline and faith.</div>
    </div>

    <div class="attribute-box">
      <div class="attribute-icon">🕊️</div>
      <div class="attribute-text"><strong>Bridge Builder:</strong> He united clans, communities, and leaders with diplomacy and respect.</div>
    </div>

    <div class="attribute-box">
      <div class="attribute-icon">🛠️</div>
      <div class="attribute-text"><strong>Community Developer:</strong> He led efforts to build churches, roads, health centers, and clean water systems.</div>
    </div>

    <div class="attribute-box">
      <div class="attribute-icon">🧓</div>
      <div class="attribute-text"><strong>Mentor to Many:</strong> Even after retirement, he advised young chiefs, pastors, and educators with patience and wisdom.</div>
    </div>

    <div class="attribute-box">
      <div class="attribute-icon">🧭</div>
      <div class="attribute-text"><strong>Guided by Integrity:</strong> Known for his honesty, discipline, and incorruptible nature in public service.</div>
    </div>

    <div class="attribute-box">
      <div class="attribute-icon">🛐</div>
      <div class="attribute-text"><strong>Church Elder:</strong> A respected voice in the SDA Church, he led spiritual efforts and built worship centers across Kisii.</div>
    </div>

    <div class="attribute-box">
      <div class="attribute-icon">🌍</div>
      <div class="attribute-text"><strong>Legacy Builder:</strong> His values live on through schools, churches, and the people he raised, taught, and served.</div>
    </div>

    <div class="attribute-box">
      <div class="attribute-icon">🎓</div>
      <div class="attribute-text"><strong>Lifelong Learner:</strong> Even in later years, he remained curious, reflective, and committed to growth.</div>
    </div>

  </div>
</section>
<section id="achievements" style="padding: 2rem;">
  <h2 style="color: #2e3a59; border-bottom: 2px solid #ccc; padding-bottom: 0.5rem;">🏅 Achievements of Chief James Nyanaro</h2>

  <article style="line-height: 1.8; font-size: 1rem; color: #333;">

    <h3 style="color: #2e3a59;">I. 🎓 Educational Milestones</h3>
    <ul>
      <li>Completed primary education at Rangenyo Mission School</li>
      <li>Passed KAPE exams (1959)</li>
      <li>Qualified as a P3 teacher at Asumbi Teachers College (1962)</li>
      <li>Later upgraded to P2 and P1 after passing London Council exams</li>
      <li>Served in multiple schools as teacher and headteacher, including Gekendo and Nyanchoka</li>
    </ul>

    <h3 style="color: #2e3a59;">II. 🏫 Contributions to Education Development</h3>
    <ul>
      <li>Expanded Gekendo Primary School from two to four streams</li>
      <li>Helped found Sore and Nyanchoka branch schools</li>
      <li>Instrumental in creating Kiabonyoru Secondary School and Ekerubo Gietai Youth Polytechnic</li>
      <li>Mentored students and inspired a culture of education</li>
    </ul>

    <h3 style="color: #2e3a59;">III. 🏛 Administrative and Leadership Roles</h3>
    <ul>
      <li>Appointed Chief of Ekerenyo in 1976, then Senior and Paramount Chief</li>
      <li>Supervised eight sublocations, mentored subchiefs</li>
      <li>Co-founded the Gusii Cultural Council</li>
      <li>Chaired the Land Control Board at Ekerenyo</li>
    </ul>

    <h3 style="color: #2e3a59;">IV. 🛠 Community Development Projects</h3>
    <ul>
      <li>Led construction of Ekerenyo Health Centre, roads, administrative offices, and police housing</li>
      <li>Directed water access, soil preservation, and agricultural reform initiatives</li>
      <li>Supported local flower growers through Itibo Flower Society</li>
    </ul>

    <h3 style="color: #2e3a59;">V. ⛪ Religious and Spiritual Service</h3>
    <ul>
      <li>Served as parish council secretary at Kebirigo Mission</li>
      <li>Led church development committees and supported projects post-retirement</li>
      <li>Participated in a spiritual pilgrimage to Rome and the Vatican in 1975</li>
    </ul>

    <h3 style="color: #2e3a59;">VI. 🏆 Honors and Recognition</h3>
    <ul>
      <li>Received official presidential recognition for outstanding service</li>
      <li>Used monetary award to fund education for his children and grandchildren</li>
      <li>Continued to be held in high esteem long after retirement</li>
    </ul>

    <h3 style="color: #2e3a59;">VII. 👨‍👩‍👧‍👦 Family Legacy</h3>
    <ul>
      <li>Father of nine children: Mercylyne Moraa, Stella Mosinya, Kevin Bundi, Jane, Kebaso, Pius Cheruget, Lillian, Collette, Geoffrey Samusi</li>
      <li>Inspired leadership in the next generation — Pius now serves as assistant chief</li>
      <li>Built a home grounded in faith, service, and unity</li>
    </ul>

    <h3 style="color: #2e3a59;">VIII. 🌱 Post-Retirement Service</h3>
    <ul>
      <li>Remained a respected elder and advisor</li>
      <li>Continued to support school and church projects and agricultural programs</li>
      <li>Served as a guiding example to youth and families</li>
    </ul>
   <h3 style="color: #2e3a59;">🌟 Extended Legacy Highlights</h3>
    <ul>
      <li><strong>Mentor of Future Chiefs:</strong> Personally guided young administrators and church leaders who now serve across Kenya</li>
      <li><strong>Cultural Stewardship:</strong> Balanced traditional Kisii wisdom with modern governance</li>
      <li><strong>Voice of Stability:</strong> Promoted peace during politically unstable times through public talks and quiet diplomacy</li>
      <li><strong>Elder Statesman:</strong> Hosted national figures and regional clergy, offering counsel beyond his official duties</li>
      <li><strong>Moral Influence:</strong> Championed clean living, rejecting alcohol, corruption, and moral decline</li>
    </ul>

    <p style="margin-top: 2rem;">
      Chief Nyanaro’s impact was not confined to his time in office — it lives on through his family, the institutions he helped build, 
      and the countless lives he touched with wisdom, kindness, and unwavering faith.
    </p>
  </article>
</section>


  <section id="video">
    <h2>Video Tribute</h2>
    <iframe id="video-frame" width="560" height="315" src="https://www.youtube.com/embed/YourVideoID" frameborder="0" allowfullscreen></iframe>
  </section>
  <section id="admin">
    <div id="admin-login">
      <h2>Admin Panel</h2>
      <p>Enter password:</p>
      <input type="password" id="admin-pass">
      <button onclick="checkPassword()">Login</button>
      <p id="admin-error" style="color:red;"></p>
    </div>

    <div id="admin-content" style="display:none;">
      <h3>Welcome, Admin</h3>
      <button onclick="logoutAdmin()" style="background-color: #d32f2f; margin-top: 1rem;">🚪 Logout</button>
      <div id="admin-controls">
        <button onclick="showEditSection('edit-biography')">Edit Biography</button>
        <button onclick="showEditSection('edit-achievements')">Edit Achievements</button>
        <button onclick="showEditSection('edit-video')">Manage Video</button>
        <button onclick="showEditSection('admin-guestbook-responses')">View Guestbook Responses</button>
        <button onclick="openUploadWidget()">Upload Image</button>
      </div>

      <!-- Biography Editor -->
      <div id="edit-biography" class="admin-section" style="display:none;">
        <label for="bio-editor"><strong>Current Biography:</strong></label><br>
        <textarea id="bio-editor" rows="15" style="width: 100%; font-family: monospace;"></textarea><br>
        <button onclick="updateBiography()">Save Biography</button>
      </div>

      <!-- Achievements Editor -->
      <div id="edit-achievements" class="admin-section" style="display:none;">
        <label for="achievements-editor"><strong>Current Achievements:</strong></label><br>
        <textarea id="achievements-editor" rows="12" style="width: 100%; font-family: monospace;"></textarea><br>
        <button onclick="updateAchievements()">Save Achievements</button>
      </div>

      <!-- Video Manager -->
      <div id="edit-video" class="admin-section" style="display:none;">
        <label for="video-url"><strong>Current YouTube Embed URL:</strong></label><br>
        <input type="text" id="video-url" style="width: 100%; padding: 0.5rem;"><br>
        <button onclick="updateVideo()">Update Video</button>
      </div>

      <!-- Guestbook Responses -->
      <div class="admin-section" id="admin-guestbook-responses" style="display: none;">
        <h3>📬 Guestbook Responses</h3>
        <a href="https://docs.google.com/spreadsheets/d/1QbXJZNkJ_fs5DtLJukyK0_V_C8pXNgHqMBM8b90a9SA/export?format=xlsx" 
           target="_blank" 
           class="download-button">⬇️ Download Responses (Excel)</a>
        <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vS2dMgxOZVPjelCKUGhje7_Ffq7U4BqGi3F7fcjCPqlQIp77opLG5kVbBcnI6yqVc05pQHnOxNGqf1Z/pubhtml?widget=true&amp;headers=false" 
                width="100%" height="500" frameborder="0" style="border: 1px solid #ccc; border-radius: 6px;"></iframe>
                

      </div>
    </div>
  </section>

  <section id="full-history">
    <h2>Full History of Chief James Nyanaro Nyabaro</h2>
    <p>
      📂 <a href="https://github.com/bony87/senior-chief-james-nyanaro-legacy/blob/main/RETIRED%20SENIOR%20CHIEF%20JAMES%20NYANARO!.pdf?raw=true" 
           download 
           target="_blank" 
           onclick="showDownloadMessage()" 
           class="download-button">
           📥 Download Full History (PDF)
      </a>
      <button onclick="showGuestbook()" class="button" style="background-color: #1976d2;">📨 Leave a Message</button>
    </p>

    <button onclick="window.print()" class="button" style="background-color: #455a64;">🖨️ Print This Page</button>

    <hr style="margin: 2rem 0;">

    <article style="line-height: 1.8; font-size: 1rem; color: #333; max-width: 800px; margin: auto;">
      <h3>Dedication</h3>
      <p>This work is lovingly dedicated to Retired Senior Chief James Nyanaro — a father, a leader, a servant of the people, and a true hero of our time.</p>

      <h3>Acknowledgment</h3>
      <p>We sincerely thank Chief James Nyanaro for his service, and his family — especially his wife Mary Bochaberi and their children...</p>

      <h3>Bible Reference</h3>
      <blockquote style="border-left: 4px solid #2e7d32; padding-left: 1rem; color: #555; font-style: italic;">
        "The greatest among you will be your servant." – Matthew 23:11
      </blockquote>

      <h3>Summary of Achievements</h3>
      <ul>
        <li>Built schools, hospitals, and churches</li>
        <li>Served faithfully as a chief in North Mugirango</li>
        <li>Guided generations with wisdom, humility, and strength</li>
        <li>Left behind a lasting legacy of faith, education, and peace</li>
      </ul>

      <h3>Messages from Family & Community</h3>
      <p>Children, grandchildren, and local leaders share personal stories, admiration, and gratitude for a life of service that touched many hearts.</p>

      <p style="margin-top: 2rem; font-weight: bold; text-align: center;">This is only a preview. For the full story, please download the PDF above.</p>
    </article>
  </section>
  <!-- Floating Download Message Popup -->
  <div id="download-popup" style="
    display: none;
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #2e7d32;
    color: white;
    padding: 1rem 2rem;
    border-radius: 6px;
    font-size: 1rem;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    z-index: 9999;
    text-align: center;
    font-weight: bold;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
  ">
    ✅ Download starting… Thank you for honoring Chief James Nyanaro.
    <span onclick="closeDownloadPopup()" style="
      margin-left: 1rem;
      cursor: pointer;
      font-weight: bold;
      color: #ffcdd2;
      font-size: 1.2rem;
    ">❌</span>
  </div>

  <!-- Guestbook Modal -->
  <div id="guestbook-modal" style="
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 5000;
    justify-content: center;
    align-items: center;
  ">
    <div style="background: white; padding: 1.5rem; border-radius: 10px; width: 90%; max-width: 700px; position: relative;">
      <button onclick="closeGuestbookModal()" style="
        position: absolute;
        top: 10px; right: 10px;
        background: transparent;
        border: none;
        font-size: 1.5rem;
        color: #555;
        cursor: pointer;
      ">✖</button>
      
      <h2 style="color: #2e3a59; margin-top: 0;">📨 Leave a Message</h2>
      <iframe src="https://docs.google.com/forms/d/e/1FAIpQLScrh5q2KSX8i2DvHufnWovMEq-ApbWYpj8cQAMuesdfJMMQUw/viewform?embedded=true" width="640" height="688" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>
      <button onclick="closeGuestbookModal()" style="
  margin-top: 1rem;
  background-color: #2e3a59;
  color: white;
  padding: 0.6rem 1.2rem;
  border: none;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
">🔙 Back to Site</button>
    </div>
  </div>

  <!-- Guestbook Trigger Button -->
  <button onclick="openGuestbookModal()" 
          style="padding: 0.7rem 1.2rem; background-color: #1976d2; color: white; border: none; border-radius: 5px; font-weight: bold; cursor: pointer;">
    📨 Leave a Message
  </button>

<marquee behavior="scroll" direction="left" scrollamount="4">
    This is a history of Retired Senior Chief James Nyanaro — a man whose life embodied service, leadership, and love.
    From building schools and hospitals to guiding his community with wisdom, he left behind a legacy that continues to inspire.
  </marquee>
  <!-- Footer -->
  <footer>
    <p>© 2025 The Nyanaro Family. All rights reserved.</p>
  </footer>

  <!-- JavaScript Logic -->
  <script>
    function showSection(id) {
      document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    function simulatePageLoad(callback) {
      const loader = document.getElementById("page-loader");
      const quoteEl = document.getElementById("legacy-quote");
      const quotes = [
        "“What counts in life is not the mere fact that we have lived. It is what difference we have made to the lives of others.”<br>– Nelson Mandela",
        "“Your legacy is every life you’ve touched.”<br>– Maya Angelou",
        "“Make each day your masterpiece. Your legacy is built daily.”<br>– John Wooden",
        "“Life’s most persistent and urgent question is, ‘What are you doing for others?’”<br>– Dr. Martin Luther King Jr.",
        "“A servant to many, a father to more — his legacy is etched in every life he touched.”<br>– In Honor of Chief James Nyanaro"
      ];
      quoteEl.innerHTML = quotes[Math.floor(Math.random() * quotes.length)];

      loader.style.display = 'flex';
      setTimeout(() => loader.style.opacity = '1', 10);
      setTimeout(() => {
        loader.style.opacity = '0';
        setTimeout(() => {
          loader.style.display = 'none';
          if (typeof callback === 'function') callback();
        }, 500);
      }, 5000);
    }


    function checkPassword() {
  if (document.getElementById("admin-pass").value === "nyanaro123") {
    document.getElementById("admin-login").style.display = "none";
    document.getElementById("admin-content").style.display = "block";
    renderAdminPreview(); // 👈 Add this line
  } else {
    document.getElementById("admin-error").textContent = "Incorrect password.";
  }
}
function logoutAdmin() {
  document.getElementById("admin-content").style.display = "none";
  document.getElementById("admin-login").style.display = "block";
  document.getElementById("admin-pass").value = "";
  document.getElementById("admin-error").textContent = "";
}
function updateBiography() {
  const newBio = document.getElementById("bio-editor").value;
  document.getElementById("bio-content").innerHTML = newBio.replace(/\n/g, "<br>");
  localStorage.setItem("bioContent", newBio);
}

function updateAchievements() {
  const newAchievements = document.getElementById("achievements-editor").value;
  document.getElementById("achievements-content").innerHTML = newAchievements.replace(/\n/g, "<br>");
  localStorage.setItem("achievementsContent", newAchievements);
}

function updateVideo() {
  const videoURL = document.getElementById("video-url").value;
  document.getElementById("video-frame").src = videoURL;
  localStorage.setItem("videoURL", videoURL);
}

function updateGuestbook() {
  const guestbookURL = document.getElementById("guestbook-url").value;
  document.getElementById("guestbook-frame").src = guestbookURL;
  localStorage.setItem("guestbookURL", guestbookURL);
}

function showEditSection(id) {
  document.querySelectorAll(".admin-section").forEach(sec => sec.style.display = "none");
  document.getElementById(id).style.display = "block";

  if (id === 'edit-biography') {
    const currentBio = document.getElementById("bio-content").innerHTML.trim();
    document.getElementById("bio-editor").value = currentBio.replace(/<br\s*\/?>/gi, "\n");
  }

  if (id === 'edit-achievements') {
    const currentAchievements = document.getElementById("achievements-content").innerHTML.trim();
    document.getElementById("achievements-editor").value = currentAchievements.replace(/<br\s*\/?>/gi, "\n");
  }

  if (id === 'edit-video') {
    const currentVideoURL = document.getElementById("video-frame").src;
    document.getElementById("video-url").value = currentVideoURL;
  }

  if (id === 'edit-guestbook') {
    const currentFormURL = document.getElementById("guestbook-frame").src;
    document.getElementById("guestbook-url").value = currentFormURL;
  }
 
  if (id === 'manage-gallery') {
  renderGalleryManager();
}
}
document.addEventListener("DOMContentLoaded", () => showSection("home"));
document.addEventListener("DOMContentLoaded", () => {
  showSection("home");

  if (localStorage.getItem("bioContent")) {
    document.getElementById("bio-content").innerHTML = localStorage.getItem("bioContent").replace(/\n/g, "<br>");
  }

  if (localStorage.getItem("achievementsContent")) {
    document.getElementById("achievements-content").innerHTML = localStorage.getItem("achievementsContent").replace(/\n/g, "<br>");
  }

  if (localStorage.getItem("videoURL")) {
    document.getElementById("video-frame").src = localStorage.getItem("videoURL");
  }

  if (localStorage.getItem("guestbookURL")) {
    document.getElementById("guestbook-frame").src = localStorage.getItem("guestbookURL");
  }
});
function addImageToGallery() {
  const fileInput = document.getElementById("image-upload");
  const caption = document.getElementById("image-caption").value.trim();

  if (fileInput.files.length === 0 || caption === "") {
    alert("Please select an image and write a caption.");
    return;
  }

  const reader = new FileReader();
  reader.onload = function(e) {
    const newImage = {
      src: e.target.result,
      caption: caption
    };

    let galleryData = JSON.parse(localStorage.getItem("galleryImages") || "[]");
    galleryData.push(newImage);
    localStorage.setItem("galleryImages", JSON.stringify(galleryData));

    renderGallery();
    renderAdminPreview();

    // Clear inputs
    fileInput.value = "";
    document.getElementById("image-caption").value = "";
  };
  reader.readAsDataURL(fileInput.files[0]);
}

function renderGallery(activeCategory = "All") {
  const galleryData = JSON.parse(localStorage.getItem("galleryImages") || "[]");

  const gallery = document.getElementById("gallery-display");
  const filters = document.getElementById("gallery-filters");

  // Create a unique category list including All
  const categories = ["All", ...new Set(galleryData.map(img => img.category?.trim() || "Uncategorized"))];

  // Build buttons for each category
  filters.innerHTML = "";
  categories.forEach(cat => {
    const button = document.createElement("button");
    button.textContent = cat;
    button.className = (cat === activeCategory) ? "active-filter" : "";
    button.onclick = () => renderGallery(cat);
    filters.appendChild(button);
  });

  // Clear and populate gallery
  gallery.innerHTML = "";

  const filteredImages = (activeCategory === "All")
    ? galleryData
    : galleryData.filter(img => (img.category?.trim() || "Uncategorized") === activeCategory);

  if (filteredImages.length === 0) {
    gallery.innerHTML = `<p style="text-align:center; font-style:italic; color:gray;">No images in this category.</p>`;
  }

  filteredImages.forEach(image => {
    const fig = document.createElement("figure");
    fig.innerHTML = `
      <img src="${image.src}" alt="${image.caption}" style="width: ${image.size || 100}%; border-radius: 6px;">
      <figcaption>${image.caption}</figcaption>
    `;
    gallery.appendChild(fig);
  });
}

function renderAdminPreview() {
  const preview = document.getElementById("sortable-gallery-admin");

  preview.innerHTML = "";

  const galleryData = JSON.parse(localStorage.getItem("galleryImages") || "[]");

  galleryData.forEach((image, index) => {
    const fig = document.createElement("figure");
  fig.setAttribute("data-index", index);

   fig.innerHTML = `
  <div class="drag-handle">≡</div>
  <img src="${image.src}" alt="${image.caption}" style="max-width: 100%; height: auto;"><br>
  <input type="text" id="caption-${index}" value="${image.caption}" style="width: 100%; margin: 0.3rem 0;">
  <input type="text" id="category-${index}" value="${image.category || ''}" placeholder="Category (optional)" style="width: 100%; margin-bottom: 0.5rem;">
  <label>Resize (%): <input type="number" id="size-${index}" value="${image.size || 100}" min="10" max="200" style="width: 60px;">%</label><br><br>
  <input type="file" id="replace-${index}" accept="image/*"><br><br>
  <button onclick="saveImageEdits(${index})">Save Changes</button>
  <button onclick="deleteImage(${index})" style="background: #c62828;">Delete</button>
`;



    preview.appendChild(fig);
  });
 
}
 initSortable();

function saveImageEdits(index) {
  let galleryData = JSON.parse(localStorage.getItem("galleryImages") || "[]");

  const newCaption = document.getElementById(`caption-${index}`).value;
  const newSize = parseInt(document.getElementById(`size-${index}`).value) || 100;
  const fileInput = document.getElementById(`replace-${index}`);
  const newCategory = document.getElementById(`category-${index}`).value;
  galleryData[index].category = newCategory;

  if (fileInput.files.length > 0) {
    const reader = new FileReader();
    reader.onload = function(e) {
      galleryData[index].src = e.target.result;
      galleryData[index].caption = newCaption;
      galleryData[index].size = newSize;
      localStorage.setItem("galleryImages", JSON.stringify(galleryData));
      renderGallery();
      renderAdminPreview();
    };
    reader.readAsDataURL(fileInput.files[0]);
  } else {
    galleryData[index].caption = newCaption;
    galleryData[index].size = newSize;
    localStorage.setItem("galleryImages", JSON.stringify(galleryData));
    showMessage("Image uploaded to gallery.");

    renderGallery();
    renderAdminPreview();
  }
}



function deleteImage(index) {
  if (!confirm("Are you sure you want to delete this image?")) return;

  let galleryData = JSON.parse(localStorage.getItem("galleryImages") || "[]");
  galleryData.splice(index, 1);
  localStorage.setItem("galleryImages", JSON.stringify(galleryData));
 showMessage("Image deleted.");

  renderGallery();
  renderAdminPreview();
}
function initSortable() {
  const container = document.getElementById('sortable-gallery-admin');
  if (!container) return;

  new Sortable(container, {
    animation: 150,
    handle: '.drag-handle',
    onEnd: function () {
      const items = Array.from(container.querySelectorAll('figure'));
      const newOrder = items.map(fig => parseInt(fig.dataset.index));
      let galleryData = JSON.parse(localStorage.getItem("galleryImages") || "[]");
      galleryData = newOrder.map(i => galleryData[i]);
      localStorage.setItem("galleryImages", JSON.stringify(galleryData));
      renderGallery();
      renderAdminPreview();
    }
  });
}

function renderGalleryManager() {
  const manager = document.getElementById("admin-gallery-manager");
  manager.innerHTML = "";

  const galleryData = JSON.parse(localStorage.getItem("galleryImages") || "[]");

  galleryData.forEach((image, index) => {
    const fig = document.createElement("figure");
    fig.innerHTML = `
      <img src="${image.src}" id="crop-preview-${index}" alt="${image.caption}" style="max-width: 100%; height: auto;"><br>
      <input type="text" id="edit-caption-${index}" value="${image.caption}" style="width: 100%; margin: 0.3rem 0;">
      <input type="text" id="edit-category-${index}" value="${image.category || ''}" placeholder="Category (optional)" style="width: 100%; margin-bottom: 0.5rem;">
      <label>Resize (%): <input type="number" id="edit-size-${index}" value="${image.size || 100}" min="10" max="200" style="width: 60px;"></label><br>
      <button onclick="applyEdits(${index})">Save</button>
      <button onclick="deleteImage(${index})" style="background: #c62828;">Delete</button>
      <button onclick="cropImage(${index})">Crop</button>
    `;
    manager.appendChild(fig);
  });
}

function applyEdits(index) {
  let galleryData = JSON.parse(localStorage.getItem("galleryImages") || "[]");
  galleryData[index].caption = document.getElementById(`edit-caption-${index}`).value;
  galleryData[index].category = document.getElementById(`edit-category-${index}`).value;
  galleryData[index].size = parseInt(document.getElementById(`edit-size-${index}`).value) || 100;
  localStorage.setItem("galleryImages", JSON.stringify(galleryData));
showMessage("Changes saved successfully.");

  renderGallery();
  renderAdminPreview();
  renderGalleryManager();
}
let cropper;
let cropIndex;

function cropImage(index) {
  cropIndex = index;
  const imgData = JSON.parse(localStorage.getItem("galleryImages") || "[]")[index].src;
  const imageElement = document.getElementById("cropper-image");
  imageElement.src = imgData;

  imageElement.onload = () => {
    if (cropper) cropper.destroy();
    cropper = new Cropper(imageElement, {
      aspectRatio: NaN, // Free crop
      viewMode: 1
    });

    document.getElementById("cropper-modal").style.display = "flex";
  };
}

function applyCrop() {
  if (!cropper) return;

  const canvas = cropper.getCroppedCanvas();
  const croppedData = canvas.toDataURL("image/png");

  let galleryData = JSON.parse(localStorage.getItem("galleryImages") || "[]");
  galleryData[cropIndex].src = croppedData;
  localStorage.setItem("galleryImages", JSON.stringify(galleryData));
 showMessage("Image cropped and updated.");

  closeCropper();
  renderGallery();
  renderAdminPreview();
  renderGalleryManager();
}

function closeCropper() {
  if (cropper) {
    cropper.destroy();
    cropper = null;
  }
  document.getElementById("cropper-modal").style.display = "none";
}
function showMessage(text, duration = 3000) {
  const box = document.getElementById("admin-message");
  box.textContent = text;
  box.style.display = "block";

  setTimeout(() => {
    box.style.display = "none";
  }, duration);
}
document.addEventListener("DOMContentLoaded", () => {
  showSection("home");
  renderGallery();
  renderAdminPreview();

  const storedPDF = localStorage.getItem("fullHistoryURL");
  if (storedPDF) {
    const downloadArea = document.getElementById("history-download-area");
    downloadArea.innerHTML = `
      <p>📂 <a href="${storedPDF}" target="_blank" download>
        Click here to download the full history of Senior Chief James Nyanaro Nyabaro
      </a></p>
    `;
  }
});

window.addEventListener("load", () => {
  const popup = document.getElementById("welcome-popup");
  setTimeout(() => {
    popup.style.opacity = 0;
    setTimeout(() => {
      popup.style.display = "none";
    }, 800);
  }, 9000); // Popup stays for 5 seconds
});
window.addEventListener("load", () => {
  const popup = document.getElementById("welcome-popup");
  popup.style.opacity = 1;
});

function closeWelcomePopup() {
  const popup = document.getElementById("welcome-popup");
  popup.style.opacity = 0;
  setTimeout(() => {
    popup.style.display = "none";
  }, 9000); // matches transition time
}
function closeWelcomePopup() {
  const popup = document.getElementById("welcome-popup");
  popup.style.opacity = 0;
  setTimeout(() => {
    popup.style.display = "none";
  }, 1000);

  // Stop audio
  const audio = document.getElementById("welcome-audio");
  if (audio) audio.pause();
}
document.getElementById("guestbook-frame").addEventListener("load", () => {
  const iframe = document.getElementById("guestbook-frame");
  const thankYouBox = document.getElementById("guestbook-thankyou");

  try {
    const currentURL = iframe.contentWindow.location.href;
    if (currentURL.includes("formResponse")) {
      thankYouBox.style.display = "block";
    }
  } catch (e) {
    // Cross-origin protection may block direct access — fallback method:
    const iframeSrc = iframe.src;
    if (iframeSrc.includes("formResponse")) {
      thankYouBox.style.display = "block";
    }
  }
});

  function toggleFullHistory() {
    const details = document.getElementById("full-history-details");
    const isHidden = details.style.display === "none";
    details.style.display = isHidden ? "block" : "none";

    // Optionally change button text too
    const button = event.currentTarget;
    button.textContent = isHidden ? "📖 Hide Full History Details" : "📖 Show Full History Details";
  }
function showDownloadMessage() {
    const popup = document.getElementById("download-popup");
    popup.style.display = "block";
    // Allow fade-in
    setTimeout(() => {
      popup.style.opacity = 1;
    }, 10);

    // Auto-hide after 5 seconds
    setTimeout(() => {
      closeDownloadPopup();
    }, 100);
  }

  function closeDownloadPopup() {
    const popup = document.getElementById("download-popup");
    popup.style.opacity = 0;
    setTimeout(() => {
      popup.style.display = "none";
    }, 500); // Wait for fade-out to finish
  }
function showGuestbook() {
  showSection("guestbook");
  window.scrollTo({ top: 0, behavior: "smooth" });
}
function openGuestbookModal() {
  const modal = document.getElementById("guestbook-modal");
  modal.style.display = "flex";
}

function closeGuestbookModal() {
  const modal = document.getElementById("guestbook-modal");
  modal.style.display = "none";
}
function openUploadWidget() {
  cloudinary.openUploadWidget({
    cloudName: 'dqpibhdz6',
    uploadPreset: 'nyanaro-gallery',
    sources: ['local', 'url', 'camera'],
    multiple: false,
    cropping: false,
    folder: 'nyanaro-gallery'
  }, (error, result) => {
    if (!error && result && result.event === "success") {
      const imageUrl = result.info.secure_url;

      const caption = document.getElementById("image-caption").value.trim();
      const category = document.getElementById("image-category").value.trim();

      if (!caption) {
        alert("Please enter a caption.");
        return;
      }

      const newImage = {
        src: imageUrl,
        caption: caption,
        category: category
      };

      let galleryData = JSON.parse(localStorage.getItem("galleryImages") || "[]");
      galleryData.push(newImage);
      localStorage.setItem("galleryImages", JSON.stringify(galleryData));

      renderGallery();
      renderAdminPreview();

      // ✅ Reset fields after upload
      document.getElementById("image-caption").value = "";
      document.getElementById("image-category").value = "";

    } else if (error) {
      alert("Upload failed: " + error.message);
    }
  });
}
function openGuestbookModal() {
  const modal = document.getElementById("guestbook-modal");
  modal.style.display = "flex";
}

function closeGuestbookModal() {
  const modal = document.getElementById("guestbook-modal");
  modal.style.display = "none";
}

  document.addEventListener('DOMContentLoaded', function () {
    const boxes = document.querySelectorAll('.attribute-box');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.2 });

    boxes.forEach(box => observer.observe(box));
  });



  </script>
</body>
</html>
